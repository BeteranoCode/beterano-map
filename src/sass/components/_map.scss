.map-leaflet-wrapper {
  position: absolute !important;   /* rellena map-container */
  inset: 0 !important;
  width: 100%;
  height: 100%;
  min-width: 0;
  z-index: 0 !important;           /* el mapa no eclipsa al dock */
}

.leaflet-container {
  height: 100% !important;
  width: 100% !important;
  min-height: 0;
  position: relative;
  z-index: 0 !important;           /* panes quedan por debajo del dock */
}

/* Mantengo tu highlight */
.leaflet-marker-icon.is-highlighted {
  filter: drop-shadow(0 0 6px rgba(255, 208, 36, .9));
  transform: scale(1.05);
  transition: transform .15s ease, filter .15s ease;
}

/* Evita crear un stacking-context que “pegue” el fixed */
html,
body,
#root,
.layout-container {
  transform: none !important;
  overflow: visible !important;
}

/* === Móvil: mapa a pantalla completa, aunque lo tape el dock === */
@media (max-width: 768px) {
  .map-container,
  .map-leaflet-wrapper,
  .leaflet-container {
    height: calc(100dvh - var(--header-offset, 85px)) !important;
    min-height: calc(100dvh - var(--header-offset, 85px)) !important;
  }

  body.has-mobile-dock .map-container,
  body.has-mobile-dock .map-leaflet-wrapper {
    padding-bottom: 0 !important;
    margin-bottom: 0 !important;
  }
}
