/* ================== Contenciones para que el dock fijo no se ‚Äúpegue‚Äù ================== */
html,
body,
#root,
.layout-container {
  /* Evita que un transform/overflow cree un containing block
     y ‚Äúpegue‚Äù o recorte el position:fixed del dock */
  transform: none !important;
  overflow: visible !important;
}

/* seguridad extra: el mapa jam√°s debe pasar por encima */
.map-leaflet-wrapper,
.leaflet-container {
  z-index: 0 !important;
}

/* cuando el dock est√° visible, no a√±adimos huecos al mapa */
body.has-mobile-dock .map-container,
body.has-mobile-dock .map-leaflet-wrapper {
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* ================== DOCK (2 | center | 2) ================== */
.mobile-dock {
  /* === variables === */
  --center-base: 88px;

  /* ‚¨áÔ∏è mismas proporciones que en gh-pages */
  /* Central: -20% respecto al tama√±o anterior */
  --center: calc(var(--center-base) * 0.7 * 1.30 * 0.8);

  /* Dock: -10% respecto al tama√±o anterior */
  --dock-h: clamp(50px, calc(var(--center) * 0.55 * (10/9)), 72px);

  --pad-h: 16px;
  --btn: clamp(28px, calc(var(--dock-h) - 12px), 52px);
  --icon-scale: 0.8;

  /* ‚¨áÔ∏è SIEMPRE flotante sobre el mapa */
  position: fixed !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;

  width: 100vw !important;
  height: calc(var(--dock-h) + env(safe-area-inset-bottom, 0px));
  padding: 0 var(--pad-h) env(safe-area-inset-bottom, 0px);

  /* üé® color pastel igual a gh-pages */
  background: #FBE493;
  border-radius: 20px 20px 0 0;
  box-shadow: none;
  z-index: 20000 !important; /* por encima de Leaflet panes/popups */

  display: grid;
  grid-template-columns: var(--btn) var(--btn) var(--center) var(--btn) var(--btn);
  grid-auto-rows: var(--dock-h);
  align-items: stretch;        /* como en gh-pages */
  justify-content: space-between;
  column-gap: 12px;
  overflow: visible;

  /* redundancia defensiva */
  transform: none !important;
}

/* ===== Botones laterales ===== */
.mobile-dock .dock-btn {
  all: unset;
  box-sizing: border-box;

  width: 100%;
  height: 100%;

  display: flex;
  align-items: center;
  justify-content: center;

  border-radius: 12px;
  color: #111;
  cursor: pointer;
  line-height: 0;
}

/* ===== Iconos SVG (laterales) ‚Äî estilo gh-pages ===== */
.mobile-dock .dock-icon,
.mobile-dock .dock-btn svg {
  display: block;
  width: calc(min(var(--btn), var(--dock-h)) * 0.6 * var(--icon-scale));
  height: calc(min(var(--btn), var(--dock-h)) * 0.6 * var(--icon-scale));
  stroke: #111;
  fill: none;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* ===== Bot√≥n central (Garagex) ===== */
.mobile-dock .dock-center {
  position: relative;
  grid-column: 3;
  justify-self: center;
  align-self: center;

  /* sobresale un 20% de la altura del dock */
  transform: translateY(calc(-0.20 * var(--dock-h)));

  width: var(--center);
  height: var(--center);
  border-radius: 50%;
  background: #FBE493;   /* mismo color que el dock pastel */
  border: none;
  box-shadow: none;

  display: flex;
  align-items: center;
  justify-content: center;

  line-height: 0;
  z-index: 20002;
  pointer-events: auto;
}

/* ===== Logo Garagex (SVG o <img>) ‚Äî estilo minimal ===== */
.mobile-dock .dock-center img,
.mobile-dock .dock-center svg {
  width: 70%;
  height: 70%;
  object-fit: contain;
  display: block;
  pointer-events: none;
  stroke: #111;   /* si es SVG inline */
  fill: none;
}

/* solo m√≥vil */
@media (min-width: 901px) {
  .mobile-dock { display: none; }
}
