@use "../_variables.scss" as *;
@use "../_mixins.scss" as *;

/* ===== Vars comunes para ambos botones (mobile) ===== */
:root {
  /* altura estándar del botón + separaciones */
  --bm-btn-h: 46px;
  --bm-btn-pad-x: 24px;
  --bm-inline-gap-top: 8px;
  --bm-inline-h: calc(var(--bm-btn-h) + var(--bm-inline-gap-top) + 8px); /* ~74px */
}

/* ===== Botón flotante (móvil, vista MAPA) ===== */
@media (min-width: 769px) {
  .bm-button-wrapper { display: none; }
}

.bm-button-wrapper {
  position: fixed;
  top: calc(var(--header-offset, 85px) + var(--bm-inline-gap-top));
  left: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  background: transparent;
  z-index: 500;
  pointer-events: none;
}
.bm-button-wrapper .bm-toggle-mobile {
  pointer-events: auto;
}

/* Estilo base para AMBOS botones (consistencia) */
.bm-toggle-mobile,
.toggle-mobile-view,
#bm-toggle {
  background: #fcd20b;
  color: #1a1a1a;
  font-weight: 600;
  font-size: 1.1rem;

  height: var(--bm-btn-h);
  padding: 0 var(--bm-btn-pad-x);

  border: 0;
  border-radius: calc(var(--bm-btn-h) / 2);
  box-shadow: 0 2px 8px rgba(0,0,0,.15);
  cursor: pointer;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  white-space: nowrap;
  text-align: center;
}

/* ===== Botón inline (móvil, vista LISTA) ===== */
.bm-button-inline {
  position: sticky;
  top: 0;                         /* pegado al top del contenedor desplazable */
  z-index: 7;                     /* por encima de las cards */
  display: flex;
  justify-content: center;
  padding: var(--bm-inline-gap-top) 0 8px;
  /* fondo pastel (opaco) */
  background: #FBE493;
}

/* Extiende el fondo hacia ARRIBA hasta cubrir la zona del header */
.bm-button-inline::before {
  content: "";
  position: absolute;
  left: 0; right: 0;
  /* “sube” un bloque del alto del header para cubrirlo visualmente */
  top: calc(-1 * var(--header-offset, 85px));
  height: var(--header-offset, 85px);
  background: #FBE493;
  z-index: -1;                    /* queda detrás del botón */
}

/* Botón inline: mismas medidas que el flotante */
@media (max-width: 768px) {
  .bm-toggle-mobile,
  .toggle-mobile-view {
    width: 50%;
    max-width: 240px;
  }
}

/* Quitar pseudo-iconos heredados, por si acaso */
#bm-toggle::before,
#bm-toggle::after,
.bm-toggle-mobile::before,
.bm-toggle-mobile::after,
.toggle-mobile-view::before,
.toggle-mobile-view::after {
  content: "" !important;
  display: none !important;
}
