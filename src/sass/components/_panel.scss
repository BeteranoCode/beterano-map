@use "../_variables.scss" as *;
@use "../_mixins.scss" as *;

/* ===== Panel legacy (Precious Plastic) ===== */
.panel {
  display: block;
  min-width: 250px;
  z-index: 400;
  position: absolute;
  top: 50px;
  left: 50px;
  background: $background-color-primary;
  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.50);
  border: 1px solid $border-color;
  text-align: center;
}

.panel__section {
  padding: 20px;
  border-bottom: 1px solid $border-color;
}
.panel__section:last-of-type { border: none; }

.logo { width: 100px; height: auto; }

.panel__title {
  text-align: center;
  margin: 15px 0;
  text-transform: uppercase;
}

.panel__form {
  background: $background-color-secondary;
  padding: 20px;
  border-bottom: 1px solid $border-color;
}
.panel__checkbox-item { display: block; }
.panel__list { padding: 0; text-align: left; }

.panel__checkbox-icon {
  background-image: url('../img/map-sprite.png');
  width: 30px; height: 30px;
  background-size: 63px;
  display: inline-block;
  vertical-align: middle;
  margin-right: 6px; margin-left: 8px;
}
.panel__checkbox-text {
  font-weight: 300;
  display: inline;
}
.panel__checkbox-icon-workshop { background-position: 0 2px; }
.panel__checkbox-icon-machine  { background-position: 0 -26px; }
.panel__checkbox-icon-started  { background-position: 0 -59px; }

.panel__checkbox:checked ~ .panel__checkbox-icon-workshop { background-position: 30px 2px; }
.panel__checkbox:checked ~ .panel__checkbox-icon-machine  { background-position: 30px -26px; }
.panel__checkbox:checked ~ .panel__checkbox-icon-started  { background-position: 30px -59px; }
.panel__checkbox:checked ~ .panel__checkbox-text { color: $primary-color; }

.panel__button { margin: 20px 0 0 0; width: 100%; }

/* responsive */
@include breakpoint {
  .panel__form,
  .panel__section:first-of-type,
  .panel__section:last-of-type,
  .panel__title,
  .panel__button { display: none; }

  .panel {
    position: fixed;
    left: 50%;
    transform: translate(-50%);
    width: 80%;
    box-shadow: none;
    border-radius: 5px;
    border: none;
  }

  .panel__form-open {
    .panel__form {
      display: block;
      border-radius: 5px;
      border: none;
      box-shadow: 0 2px 5px 0 rgba(0,0,0,0.5);
    }
    .panel__list { margin-top: 25px; }
  }
}

/* ===== NUEVO: Modal de filtros ===== */
.bm-modal-backdrop {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.35);
  display: grid; place-items: center;
  z-index: 10000;
}

.bm-modal {
  width: min(720px, 92vw);
  background: #fff;
  border-radius: 14px;
  padding: 12px;
  max-height: 85vh;
  display: flex; flex-direction: column;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}

.bm-modal__header,
.bm-modal__footer {
  display: flex; align-items: center; justify-content: space-between;
  gap: 10px;
}
.bm-modal__header { padding: 6px 4px 8px; }
.bm-modal__body   { overflow: auto; padding: 6px 2px; display: grid; gap: 10px; }

.bm-field { display: grid; gap: 6px; }
.bm-label { font-weight: 600; font-size: 14px; }
.bm-input {
  width: 100%; height: 36px;
  border: 1px solid #ddd; border-radius: 8px; padding: 6px 10px;
}

.bm-chips { display: flex; flex-wrap: wrap; gap: 8px; }
.bm-chip {
  border: 1px solid #ddd; border-radius: 999px; padding: 6px 10px; background: #fff;
}
.bm-chip.is-active { border-color: #000; box-shadow: inset 0 0 0 1px #000; }

.btn { cursor: pointer; }
.btn--icon { width: 36px; height: 36px; border: 1px solid #ddd; border-radius: 8px; background: #fff; }
.btn--primary { background: #000; color: #fff; border-radius: 8px; padding: 8px 14px; border: none; }
